[#managing-discovery]
= Managing Discovery services

Review the following sections to learn more about detaching managed cluster instances and importing non-ROSA clusters.


* <<detach-managed-cluster,Detaching managed clusters for Discovery>>
* <<import-non-rosa-clusters,Importing non-ROSA clusters automatically>>

[#detach-managed-cluster]
== Detaching managed clusters for Discovery

Detach managed clusters for Discovey to prevent reimporting automatically. Complete the following steps:
//need to confirm steps
. Log in to your {product-title} cluster.
. Select the `DiscoverCluster` resource of the `ManagedCluster` instance that is managed by the hub cluster. 
. To prevent reimport, add the following annotation, `discovery.open-cluster-management.io/previously-auto-imported: 'true'`.
+
Your `DiscoveredCluster` resource might resemble the following YAML:

+
[source,yaml]
----
apiVersion: discovery.open-cluster-management.io/v1
kind: DiscoveredCluster
metadata:
  annotations:
    discovery.open-cluster-management.io/previously-auto-imported: 'true'
----

. To verify that the `DiscoveredCluster` resource is not reimported automatically, check for the following message during your reimport attempt:

+
[source,bash]
----
2024-06-12T14:11:43.366Z INFO reconcile	Skipped automatic import for DiscoveredCluster due to 
existing 'discovery.open-cluster-management.io/previously-auto-imported' annotation {"Name": "rosa-dc"}
----

. If you want to reimport the `DiscoveredCluster` resource automatically, you must remove the previously mentioned annotation.

[#import-non-rosa-clusters]
== Importing non-ROSA clusters automatically

If you want to automatically import a non-ROSA cluster, the import does not initiate. You must import other `DiscoveredCluster` resources manually. You must directly apply Kubernetes configurations to the other types of `DiscoveredCluster` resources. If you enable the `importAsManagedCluster` field from the `DiscoveredCluster` resource, it is prevented by the Discovery webhook. 

*Note:* If there is a `MultiClusterEngineHCP` type for the `DiscoveredCluster` resource you can automatically import it. However, the `DiscoveredCluster` resource is provided through only HyperShift. For more details see, 