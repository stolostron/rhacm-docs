[#server-foundation-metrics-reference]
= Server foundation metrics

You can use metrics that return information about the managed clusters from the Hub clusters.

[#metric-acm-managed-cluster-info]
== acm_managed_cluster_info

Type: Gauge

Description: Describes the basic information about the managed cluster, the labels are provided in the table.

.`acm_managed_cluster_info` labels
|===
| Number | Label | Description

|1
|`hub_cluster_id`
|The cluster ID of the hub cluster.

|2
|`managed_cluster_id`
|The managed cluster ID is the cluster ID if the managed cluster is an {ocp} cluster, otherwise it is the cluster name.

|3
|`vendor`
|The label `vendor` of the managed cluster.

|4
|`cloud`
|The label `cloud` of the managed cluster.

|5
|`service_name` 
|The annotation `open-cluster-management/service-name` of the managed cluster. The values are `Compute` and `Other`.

|6
|`created_via` 
|The annotation `open-cluster-management/created-via` updated by MCE. The supported values are `Discovery`,`AssistedInstaller`,`Hive` and `Other`.

|7 
|`version`
|The {ocp-short} version if the managed cluster is an {ocp-short} cluster, otherwise is the Kubernetes version.

|8
|`available`
|The condition `ManagedClusterConditionAvailable` of the managed cluster. The values are `True` and `False`.

|9
|`core_worker`
|The core count of worker nodes on the managed cluster.

|10
|`socket_worker`
|The socket count of worker nodes on the {ocp-short} cluster.

|===

[#metric-acm-managed-cluster-labels]
== acm_managed_cluster_labels

Type: Gauge

Description:  

* The metric is used to synchronize all of the labels on a managed cluster.
* In the conversion of the Kubernetes label keys to the Prometheus label keys, all symbols will be converted to “_”. For example: “foo-test” would be converted to “foo_test”.
* The value of this metric is always equal to 1.

.`acm_managed_cluster_labels` labels
|===
| Number | Label | Description

|1
|`hub_cluster_id`
|The cluster ID of the hub cluster.

|2
|`managed_cluster_id`
|The managed cluster ID is the cluster ID if the managed cluster is an {ocp-short} cluster, otherwise it is the cluster name.
|===

[#metric-acm-managed-cluster-count]
== acm_managed_cluster_count

Type: Gauge

Description:  
The metric indicates the number of the managed clusters registered to the hub cluster. 

[#metric-acm-managed-cluster-status-condition]
== acm_managed_cluster_status_condition

Type: Gauge

Description:  
The metric reflects the status conditions of the managed clusters.  

.`acm_managed_cluster_status_condition` labels
|===
| Number | Label | Description

|1
|`managed_cluster_id`
|The cluster ID of the managed cluster

|2
|`managed_cluster_name`
|The name of the managed cluster

|3
|`condition`
|The name of the condition

|4
|`status`
|The status of the condition. Valid values are `true`, `false`, or `unknown`. For required conditions like `ManagedClusterConditionAvailable`, the status is set to unknown if the condition is missing.
|===

[#metric-acm-managed-cluster-addon-status-condition]
== acm_managed_cluster_addon_status_condition

Type: Gauge

Description:  
The metric reflects the status condition of the managed cluster add-ons.  

.`acm_managed_cluster_addon_status_condition` labels
|===
| Number | Label | Description

|1
|`addon_name`
|The name of the add-on

|2
|`managed_cluster_id`
|The ID of the managed cluster to which the add-on belongs

|3
|`managed_cluster_name`
|The name of the managed cluster to which the add-on belongs

|4
|`condition`
|The type of the condition

|5
|`status`
|The status of the condition. Valid values are `true`, `false`, or `unknown`. For required conditions like `Available`, the status is set to unknown if the condition is missing.
|===

[#metric-acm-manifestwork-count]
== acm_manifestwork_count

Type: Gauge

Description: The metric indicates the number of the `ManifestWorks` created on the hub cluster. 

[#metric-acm-manifestwork-status-condition]
== acm_manifestwork_status_condition

Type: Gauge

Description:  
The metric reflects the status condition of the `ManifestWorks`.  

.`acm_manifestworks_status_condition` labels
|===
|Number | Label | Description

|1
|`manifestwork`
|The name of the `ManifestWork`

|2
|`managed_cluster_id`
|The ID of the managed cluster to which the `ManifestWork` belongs

|3
|`managed_cluster_name`
|The name of the managed cluster to which the `ManifestWork` belongs

|4
|`condition`
|The type of the condition

|5
|`status`
|The status of the condition. Valid values are `true`, `false`, or `unknown`. For required conditions like `Applied` and `Available`, the status is set to `unknown` if the condition is missing.
|===