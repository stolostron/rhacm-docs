[#add-ons-klusterlet]
= Enabling klusterlet add-ons 

After you install {product-title} and then create or import clusters with {mce-short} you can enable the klusterlet add-ons for those managed clusters. The klusterlet add-ons are not enabled by default if you created or imported clusters unless you create or import with the {product-title-short} console.

See the following available klusterlet add-ons:

- `application-manager`
- `cert-policy-controller`
- `config-policy-controller`
- `iam-policy-controller`
- `governance-policy-framework`
- `search-collector`

Complete the following steps to enable the klusterlet add-ons for the managed clusters after {product-title-short} is installed:

. Create a YAML file that is similar to the following `KlusterletAddonConfig` resource, with the `spec` value that represents enabled add-ons:

+
[source,yaml]
----
apiVersion: agent.open-cluster-management.io/v1
kind: KlusterletAddonConfig
metadata:
  name: <cluster_name>
  namespace: <cluster_name>
spec:
  applicationManager:
    enabled: true
  certPolicyController:
    enabled: true
  iamPolicyController:
    enabled: true
  policyController: <1>
    enabled: true
  searchCollector:
    enabled: true
----
+
<1> The `policy-controller` add-on is divided into two add-ons: The `governance-policy-framework` and the `config-policy-controller`. As a result, the `policyController` controls the `governance-policy-framework` and the `config-policy-controller` `managedClusterAddons`.

. Save the file as `klusterlet-addon-config.yaml`.
. Apply the YAML by running the following command on the hub cluster:

+
[source,bash]
----
oc apply -f klusterlet-addon-config.yaml
----
 
. To verify whether the enabled `managedClusterAddons` are created after the `KlusterletAddonConfig` is created, run the following command:

+
[source,bash]
----
oc get managedclusteraddons -n <cluster namespace>
----

