[#multiclusterglobalhub-api]
= Multiclusterglobalhub API


[[_rhacm-docs_apis_multiclusterglobalhub_jsonoverview]]
== Overview
Use the `Multiclusterglobalhub` resource for {product-title}. The `Multiclusterglobalhub` resource has four possible requests: create, query, delete, and update. 


=== Version information
[%hardbreaks]
__Version__ : 2.9.0


=== URI scheme
[%hardbreaks]
__BasePath__ : /kubernetes/apis
__Schemes__ : HTTPS


=== Tags

* `multiclusterglobalhubs.operator.open-cluster-management.io/v1alpha4`: Create and manage `multiclusterglobalhubs`.


[[_rhacm-docs_apis_multiclusterglobalhub_jsonpaths]]
== Paths

[[_rhacm-docs_apis_multiclusterglobalhub_jsoncreatemulticlusterglobalhub]]
=== Create a multiclusterglobalhub
....

POST /operator.open-cluster-management.io/v1alpha4/namespaces/{namespace}/multiclusterglobalhubs/{multiclusterglobalhub_name}

....


==== Description
* Create a `multiclusterglobalhub`.


==== Parameters

[options="header", cols=".^2a,.^3a,.^9a,.^4a"]
|===
|Type|Name|Description|Schema
|*Header*|*COOKIE* +
__required__|Authorization: Bearer {ACCESS_TOKEN} ; ACCESS_TOKEN is the user access token.|string
|*Path*|*namespace* +
__required__|Namespace that you want to use, for example, default.|string
|*Body*|*body* +
__required__|Parameters describing the multiclusterglobalhub to be created.|<<_rhacm-docs_apis_multiclusterglobalhub_jsonmulticlusterglobalhub,Multiclusterglobalhub>>
|===


==== Responses

[options="header", cols=".^2a,.^14a,.^4a"]
|===
|HTTP Code|Description|Schema
|*200*|Success|No Content
|*403*|Access forbidden|No Content
|*404*|Resource not found|No Content
|*500*|Internal service error|No Content
|*503*|Service unavailable|No Content
|===


==== Consumes

* Consume your `multiclusterglobalhub` with the following: `application/json`.


==== Tags

* Give your `multiclusterglobalhub` a tag with the following: `operator.open-cluster-management.io`.


==== Example HTTP request

===== Request body
[source,json]
----
{
    "apiVersion": "operator.open-cluster-management.io/v1alpha4",
    "kind": "MulticlusterGlobalHub",
    "metadata": {
        "annotations": {
            "mgh-scheduler-interval": "minute",
            "mgh-skip-auth": "true"
        },
        "creationTimestamp": "2024-02-18T08:38:28Z",
        "finalizers": [
            "global-hub.open-cluster-management.io/resource-cleanup"
        ],
        "generation": 1,
        "name": "multiclusterglobalhub",
        "namespace": "multicluster-global-hub",
        "resourceVersion": "72800",
        "uid": "db1114f5-ccf4-44d9-9838-40fe1d475eca"
    },
    "spec": {
        "availabilityConfig": "Basic",
        "dataLayer": {
            "kafka": {},
            "postgres": {
                "retention": "18m"
            }
        }
    },
    "status": {
        "conditions": [
            {
                "lastTransitionTime": "2024-02-18T08:38:28Z",
                "message": "Backup Disabled In RHACM",
                "reason": "BackupDisabled",
                "status": "False",
                "type": "BackupLabelAdded"
            },
            {
                "lastTransitionTime": "2024-02-18T08:38:28Z",
                "message": "Database has been initialized",
                "reason": "DatabaseInitialized",
                "status": "True",
                "type": "DatabaseInitialized"
            },
            {
                "lastTransitionTime": "2024-02-18T08:38:28Z",
                "message": "The data will be kept in the database for 18 months.",
                "reason": "DataRetentionParsed",
                "status": "True",
                "type": "DataRetentionParsed"
            },
            {
                "lastTransitionTime": "2024-02-18T08:38:34Z",
                "message": "Deployment has minimum availability.",
                "reason": "MinimumReplicasAvailable",
                "status": "True",
                "type": "ManagerAvailable"
            },
            {
                "lastTransitionTime": "2024-02-18T08:39:01Z",
                "message": "Deployment has minimum availability.",
                "reason": "MinimumReplicasAvailable",
                "status": "True",
                "type": "GrafanaAvailable"
            },
            {
                "lastTransitionTime": "2024-02-18T08:38:37Z",
                "message": "Multicluster Global Hub is ready",
                "reason": "MulticlusterGlobalHubReady",
                "status": "True",
                "type": "Ready"
            }
        ]
    }
}
----


[[_rhacm-docs_apis_multiclusterglobalhub_jsonquerymulticlusterglobalhubs]]
=== Query all multiclusterglobalhubs
....

GET /operator.open-cluster-management.io/v1alpha4/namespaces/{namespace}/multiclusterglobalhubs

....


==== Description
* Query your `multiclusterglobalhubs` for more details.


==== Parameters

[options="header", cols=".^2a,.^3a,.^9a,.^4a"]
|===
|Type|Name|Description|Schema
|*Header*|*COOKIE* +
__required__|Authorization: Bearer {ACCESS_TOKEN} ; ACCESS_TOKEN is the user access token.|string
|*Path*|*namespace* +
__required__|Namespace that you want to apply the multiclusterglobalhub to, for example, default.|string
|===


==== Responses

[options="header", cols=".^2a,.^14a,.^4a"]
|===
|HTTP Code|Description|Schema
|*200*|Success|No Content
|*403*|Access forbidden|No Content
|*404*|Resource not found|No Content
|*500*|Internal service error|No Content
|*503*|Service unavailable|No Content
|===


==== Consumes

* `Consume your `multiclusterglobalhub` with `application/json`. 


==== Tags

* Give your `multiclusterglobalhub` a tag with the following: `operator.open-cluster-management.io`.


[[_rhacm-docs_apis_multiclusterglobalhub_jsonquerymulticlusterglobalhub]]
=== Query a single multiclusterglobalhub
....

GET /operator.open-cluster-management.io/v1alpha4/namespaces/{namespace}/multiclusterglobalhubs/{multiclusterglobalhub_name}

....


==== Description
Query a single `multiclusterglobalhub` for more details.


==== Parameters

[options="header", cols=".^2a,.^3a,.^9a,.^4a"]
|===
|Type|Name|Description|Schema
|*Header*|*COOKIE* +
__required__|Authorization: Bearer {ACCESS_TOKEN} ; ACCESS_TOKEN is the user access token.|string
|*Path*|*multiclusterglobalhub_name* +
__required__|Name of the multiclusterglobalhub that you want to query.|string
|*Path*|*namespace* +
__required__|Namespace that you want to use, for example, default.|string
|===


==== Responses

[options="header", cols=".^2a,.^14a,.^4a"]
|===
|HTTP Code|Description|Schema
|*200*|Success|No Content
|*403*|Access forbidden|No Content
|*404*|Resource not found|No Content
|*500*|Internal service error|No Content
|*503*|Service unavailable|No Content
|===


==== Tags

* Give your `multiclusterglobalhub` a tag with the following: `operator.open-cluster-management.io`.

[[_rhacm-docs_apis_multiclusterglobalhub_jsondeletemulticlusterglobalhub]]
=== Delete a multiclusterglobalhub
....
DELETE /operator.open-cluster-management.io/v1/namespaces/{namespace}/multiclusterglobalhubs/{multiclusterglobalhub_name}
....


==== Parameters

[options="header", cols=".^2a,.^3a,.^9a,.^4a"]
|===
|Type|Name|Description|Schema
|*Header*|*COOKIE* +
__required__|Authorization: Bearer {ACCESS_TOKEN} ; ACCESS_TOKEN is the user access token.|string
|*Path*|*multiclusterglobalhub_name* +
__required__|Name of the multiclusterglobalhub that you want to delete.|string
|*Path*|*namespace* +
__required__|Namespace that you want to use, for example, default.|string
|===


==== Responses

[options="header", cols=".^2a,.^14a,.^4a"]
|===
|HTTP Code|Description|Schema
|*200*|Success|No Content
|*403*|Access forbidden|No Content
|*404*|Resource not found|No Content
|*500*|Internal service error|No Content
|*503*|Service unavailable|No Content
|===


==== Tags

* Give your `multiclusterglobalhub` a tag with the following: `operator.open-cluster-management.io`.


[[_rhacm-docs_apis_multiclusterglobalhub_jsondefinitions]]
== Definitions

[[_rhacm-docs_apis_multiclusterglobalhub_jsonmulticlusterglobalhub]]
=== Multiclusterglobalhub

[options="header", cols=".^2a,.^3a,.^4a"]
|===
|Name|Description|Schema
|*apiVersion* +
__required__|The versioned schema of Multiclusterglobalhub. |string
|*kind* +
__required__|String value that represents the REST resource. |string
|*metadata* +
__required__|Describes rules that define the Multiclusterglobalhub.| object
|*spec* +
__required__|<<_rhacm-docs_apis_multiclusterglobalhub_jsonmulticlusterglobalhub_spec,spec>>
|===

[[_rhacm-docs_apis_multiclusterglobalhub_jsonmulticlusterglobalhub_spec]]
*spec*

[options="header", cols=".^2a,.^3a,.^4a"]
|===
|Name|Description|Schema
|*AvailabilityConfig* +
__optional__ | Specifies deployment replication for improved availability. Options are: Basic and High (default). | AvailabilityType(string)
|*ImagePullPolicy* +
__optional__ | Pull policy of the multicluster global hub images | link:https://github.com/kubernetes/api/blob/48ed98046a81320c5ec6681f614e31892035edef/core/v1/types.go#L2468[PullPolicy]
|*ImagePullSecret* +
__optional__ | Pull secret of the multicluster global hub images | string
|*NodeSelector* +
__optional__ | Spec of NodeSelector | map[string]string
|*Tolerations* +
__optional__ | Tolerations causes all components to tolerate any taints. | link:https://github.com/kubernetes/api/blob/48ed98046a81320c5ec6681f614e31892035edef/core/v1/types.go#L3473[Toleration]
|*EnableMetrics* +
__optional__ | EnableMetrics enables the metrics for the global hub kafka components | bool
|<<_rhacm-docs_apis_mgh_jsonmgh_datalayer,*DataLayer*>> +
__optional__ | DataLayer can be configured to use a different data layer. | object
|<<_rhacm-docs_apis_mgh_jsonmgh_advanceconfig,*AdvancedConfig*>> +
__optional__ | Advanced configurations for global hub. | object
|===


[[_rhacm-docs_apis_mgh_jsonmgh_datalayer]]
*DataLayerConfig*

[options="header", cols=".^2a,.^3a,.^4a"]
|===
|Name|Description|Schema
|<<_rhacm-docs_apis_mgh_jsonmgh_datalayer_kafka,*Kafka*>> +
__optional__| KafkaConfig defines the desired state of kafka. | object
|<<_rhacm-docs_apis_mgh_jsonmgh_datalayer_postgres,*Postgres*>> +
__optional__| PostgresConfig defines the desired state of postgres. | object
|*StorageClass* +
__optional__| Specify the storageClass for storage. | string
|===

[[_rhacm-docs_apis_mgh_jsonmgh_datalayer_kafka]]
*KafkaConfig*

[options="header", cols=".^2a,.^3a,.^4a"]
|===
|Name|Description|Schema
|*StorageSize* +
__optional__| Specify the size for storage. | string
|===

[[_rhacm-docs_apis_mgh_jsonmgh_datalayer_postgres]]
*PostgresConfig*

[options="header", cols=".^2a,.^3a,.^4a"]
|===
|Name|Description|Schema
|*Retention* +
__optional__| Retention defines how long to keep the data in the database. Recommended minimum value is 1 month, default value is 18 months. | string
| *StorageSize* +
__optional__| Specify the size for storage. | string
|===


[[_rhacm-docs_apis_mgh_jsonmgh_advanceconfig]]
*AdvancedConfig*

[options="header", cols=".^2a,.^3a,.^4a"]
|===
|Name|Description|Schema
|<<_rhacm-docs_apis_mgh_jsonmgh_advanceconfig_commonspec,*Grafana*>> +
__optional__| The spec of grafana. | object
|<<_rhacm-docs_apis_mgh_jsonmgh_advanceconfig_commonspec,*Kafka*>> +
__optional__| The spec of kafka. | object
|<<_rhacm-docs_apis_mgh_jsonmgh_advanceconfig_commonspec,*Zookeeper*>> +
__optional__| The spec of zookeeper. | object
|<<_rhacm-docs_apis_mgh_jsonmgh_advanceconfig_commonspec,*Postgres*>> +
__optional__| The spec of postgres. | object
|<<_rhacm-docs_apis_mgh_jsonmgh_advanceconfig_commonspec,*Manager*>> +
__optional__| The spec of manager. | object
|<<_rhacm-docs_apis_mgh_jsonmgh_advanceconfig_commonspec,*Agent*>> +
__optional__| The spec of agent. | object
|===


[[_rhacm-docs_apis_mgh_jsonmgh_advanceconfig_commonspec]]
*CommonSpec*

[options="header", cols=".^2a,.^3a,.^4a"]
|===
|Name|Description|Schema
|<<_rhacm-docs_apis_mgh_jsonmgh_advanceconfig_commonspec_resource,*Resources*>> +
__optional__| Compute Resources required by this component. | object
|===

[[_rhacm-docs_apis_mgh_jsonmgh_advanceconfig_commonspec_resource]]
*ResourceRequirements*

[options="header", cols=".^2a,.^3a,.^4a"]
|===
|Name|Description|Schema
|*Limits* +
__optional__| Limits describes the maximum amount of compute resources allowed. | link:https://github.com/kubernetes/api/blob/48ed98046a81320c5ec6681f614e31892035edef/core/v1/types.go#L5985[ResourceList]
|*Requests* +
__optional__| If Requests is omitted for a container, it defaults to Limits if that is explicitly specified, otherwise to an implementation-defined value. | link:https://github.com/kubernetes/api/blob/48ed98046a81320c5ec6681f614e31892035edef/core/v1/types.go#L5985[ResourceList]
|===

